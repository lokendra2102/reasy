!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.reazi=t():e.reazi=t()}(self,(()=>{return e={797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=void 0,t.defaults={headers:{},domain:"",controller:!1,abortTime:!1,preRequestHook:null,postRequestHook:null,abortControllers:new Map,allAbortControllers:new Map}},455:function(e,t){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReasyError=void 0;var o=function(e){function t(r,n){var o=e.call(this,r)||this;return o.name=o.constructor.name,o.code=n,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace(o,o.constructor),o}return n(t,e),t}(Error);t.ReasyError=o},792:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function i(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,i)}u((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.downloadFile=t.fileupdate=t.fileupload=t.parseHeaders=t.convertHeaders=t.constructHeaders=t.createRequest=t.sendRequest=t.validateURL=t.errorInterceptor=t.responseInterceptor=t.responseBodyHandler=void 0;var a=r(797),i=r(455),u=r(456),l=r(811);function c(e,t,r,n,o){try{switch(r){case"json":e.json().then((function(e){t.response.data=e,n(t.response)}));break;case"text":e.text().then((function(e){t.response.data=e,n(t)}));break;case"blob":e.blob().then((function(e){e.arrayBuffer().then((function(e){t.response.data=Buffer.from(e),n(t)}))}));break;case"arraybuffer":e.arrayBuffer().then((function(e){t.response.data=Buffer.from(e),n(t)}));break;default:t.response.data=e,n(t)}}catch(e){o(t)}}function f(e,t,r,n,o,s){var a={duration:((t-e)/1e3).toFixed(3)};r.headers.forEach((function(e,t){a[t]=e}));var i={response:{status:r.status,statusText:r.statusText,url:r.url?r.url:a.url,headers:a}};404===r.status&&(i.response.method=n.method,s(i));var u=n.responseType?n.responseType:(0,l.validateContentType)(r.headers.get("content-type"));u?c(r,i,u,o,s):(i.response.data=r.body,o(i))}function d(e,t,r){var o=(0,l.checkIfValidJson)(JSON.stringify(e)),s=navigator&&"ReactNative"===navigator.product?t:new URL(t).origin+new URL(t).pathname;"{}"!==JSON.stringify(o)?(o.cause&&(o=o.cause),r(o=n(n({},o),{message:e.message,url:s}))):r({stackTrace:e.message,url:s})}function p(e,t){if(!e&&!t.getURL())throw new i.ReasyError("Do register a reazi instance or provide a URL in method scope",401);return e?t.getURL()?(0,l.encodeQP)(t.getURL().toString()+e.toString()):(0,l.encodeQP)(e.toString()):t.getURL()}function h(){return o(this,arguments,void 0,(function(e,t,c,p){var h,y,g,w,R,P,_=this;return void 0===e&&(e=""),void 0===t&&(t={}),void 0===c&&(c=!1),void 0===p&&(p=!1),s(this,(function(H){switch(H.label){case 0:return[4,Promise.resolve().then(r.bind(r,398))];case 1:if(h=H.sent().default,y=performance.now(),t=n(n({},a.defaults.headers),t),""!==a.defaults.domain.toString().trim()&&(e="/"!==a.defaults.domain.toString().slice(-1)?a.defaults.domain.toString()+"/"+e:a.defaults.domain.toString()+e),null!=t.timeout&&t.timeout<=0)throw new i.ReasyError((0,l.errorMessage)("TimeOut",!0),422);return(g=(0,l.checkIfValidParams)(e,t))?[2,new Promise((function(e,t){t({status:"failure",message:(0,l.errorMessage)(g)})}))]:(c&&a.defaults.allAbortControllers.clear(),w=Math.floor(99999*Math.random()),(a.defaults.controller||t.timeout>0)&&(R=(0,u.abortSignal)(t.timeout>0?t.timeout:a.defaults.abortTime?a.defaults.abortTime:-1,w,c),t=n(n(n({},t),a.defaults.headers),{signal:R.signal})),P=v(e.toString(),t),null!==a.defaults.preRequestHook&&(P=a.defaults.preRequestHook(P)),[2,new Promise((function(r,i){return o(_,void 0,void 0,(function(){var o,u,l,v,g,R,_,H,O,T,q;return s(this,(function(s){if(p)if("undefined"==typeof window&&h.default.http&&h.default.https)e=new URL(e),g=t.body,R=t.method,delete t.body,delete t.method,o={hostname:e.hostname,port:e.port,path:e.pathname,method:R,headers:n({"Content-Type":"POST"===R||"PUT"===R?"application/json":"text/plain"},t)},u=e.protocol.startsWith("https")?h.default.https:h.default.http,(l=u.request(o,(function(n){var o;n.setEncoding("utf8"),n.on("data",(function(e){o=e})),n.on("end",(function(){var s=new Response(o,{status:n.statusCode,statusText:n.statusMessage,headers:b(n.headers,e)});try{if(n.statusCode){var u=performance.now();(a.defaults.controller||t.timeout>0)&&a.defaults.abortControllers.delete(w),null!==a.defaults.postRequestHook?a.defaults.postRequestHook(s,r,i):f(y,u,s,t,r,i)}}catch(t){d(t,e,i)}}))}))).on("error",(function(t){d(t,e,i)})),"POST"===R||"PUT"===R?(l.write(g),l.end()):l.end();else{for(v=new XMLHttpRequest,g=t.body,R=t.method,delete t.body,delete t.method,v.open(R,e.toString(),!0),_=0,H=Object.entries(t);_<H.length;_++)O=H[_],T=O[0],q=O[1],v.setRequestHeader(T,q);v.onload=function(){var n=v.response,o=new Response(n,{status:v.status,statusText:v.statusText,headers:m(v.getAllResponseHeaders(),e)}),s=performance.now();(a.defaults.controller||t.timeout>0)&&(c?a.defaults.allAbortControllers.delete(w):a.defaults.abortControllers.delete(w)),null!==a.defaults.postRequestHook?a.defaults.postRequestHook(o,r,i):f(y,s,o,t,r,i)},v.onerror=function(t){d(t,e,i)},v.send(g)}else fetch(P).then((function(e){var n=performance.now();(a.defaults.controller||t.timeout>0)&&(c?a.defaults.allAbortControllers.delete(w):a.defaults.abortControllers.delete(w)),null!==a.defaults.postRequestHook?a.defaults.postRequestHook(e,r,i):f(y,n,e,t,r,i)})).catch((function(t){d(t,e,i)})).catch((function(e){var t={message:e.message};i(t)}));return[2]}))}))}))])}}))}))}function v(e,t){return new Request(e,t)}function y(e,t,r,o){var s=n(n(n({},t),o.getHeaders()),{method:e});return r instanceof FormData?s.body=r:"{}"!==JSON.stringify(r)&&(s.body=JSON.stringify(r),s.headers=n(n({},s.headers),{"content-type":"application/json"})),s}function b(e,t){var r={};return Object.entries(e).forEach((function(e){var t=e[0],n=e[1];"string"==typeof n?r[t]=n:Array.isArray(n)&&(r[t]=n.join(", "))})),t&&(r.url="string"==typeof t?t:t.href),r}function m(e,t){var r={};return e.trim().split("\n").forEach((function(e){var t=e.split(":"),n=t.shift().trim(),o=t.join(":").trim();r[n]=o})),b(r,t)}t.responseBodyHandler=c,t.responseInterceptor=f,t.errorInterceptor=d,t.validateURL=p,t.sendRequest=h,t.createRequest=v,t.constructHeaders=y,t.convertHeaders=b,t.parseHeaders=m,t.fileupload=function(e,t,r,n,o){return void 0===e&&(e=""),void 0===r&&(r={}),h(e=p(e,o),r=y("POST",r,t,o),n,!0)},t.fileupdate=function(e,t,r,n,o){return void 0===e&&(e=""),void 0===r&&(r={}),h(e=p(e,o),r=y("PUT",r,t,o),n,!0)},t.downloadFile=function(e,t,r,n){return void 0===e&&(e=""),void 0===t&&(t={}),h(e=p(e,n),t=y("GET",t,{},n),r,!0)}},655:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function i(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,i)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.reasy=t.requestHandler=void 0;var s=r(797),a=r(811),i=r(792),u=function(){function e(e,t){var r=e?(0,a.isValidUrl)(e):"";this._URL=r||"",this._headers=t||{}}return e.prototype.getURL=function(){return this._URL},e.prototype.getHeaders=function(){return this._headers},e.prototype.setURL=function(e){var t=e?(0,a.isValidUrl)(e):"";this._URL=t||""},e.prototype.setHeaders=function(e){this._headers=e||{}},e.prototype.instance=function(t,r){return new e(t,r)},e.prototype.get=function(e,t,r){void 0===e&&(e=""),void 0===t&&(t={}),void 0===r&&(r=!1);try{return e=(0,i.validateURL)(e,this),t=(0,i.constructHeaders)("GET",t,{},this),(0,i.sendRequest)(e,t,r)}catch(e){return new Promise((function(t,r){r({status:"failure",message:e.message})}))}},e.prototype.post=function(e,t,r,n){return void 0===e&&(e=""),void 0===t&&(t={}),void 0===r&&(r={}),void 0===n&&(n=!1),e=(0,i.validateURL)(e,this),r=(0,i.constructHeaders)("POST",r,t,this),(0,i.sendRequest)(e,r,n)},e.prototype.put=function(e,t,r,n){return void 0===e&&(e=""),void 0===t&&(t={}),void 0===r&&(r={}),void 0===n&&(n=!1),e=(0,i.validateURL)(e,this),r=(0,i.constructHeaders)("PUT",r,t,this),(0,i.sendRequest)(e,r,n)},e.prototype.patch=function(e,t,r,n){return void 0===e&&(e=""),void 0===t&&(t={}),void 0===r&&(r={}),void 0===n&&(n=!1),e=(0,i.validateURL)(e,this),r=(0,i.constructHeaders)("PATCH",r,t,this),(0,i.sendRequest)(e,r,n)},e.prototype.delete=function(e,t,r){return void 0===e&&(e=""),void 0===t&&(t={}),void 0===r&&(r=!1),e=(0,i.validateURL)(e,this),t=(0,i.constructHeaders)("DELETE",t,{},this),(0,i.sendRequest)(e,t,r)},e.prototype.all=function(e){return n(this,arguments,void 0,(function(e,t){var r=this;return void 0===t&&(t=!0),o(this,(function(i){return Array.isArray(e)?[2,new Promise((function(a,i){var u=[];Promise.all(e.map((function(e,a){return n(r,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,e.then((function(e){u.push(e)})).catch((function(e){u.push(e),t&&(s.defaults.allAbortControllers.forEach((function(e){e.abort()})),s.defaults.allAbortControllers.clear()),i(u)}))];case 1:return r.sent(),[2]}}))}))}))).then((function(e){a(u)})).catch((function(e){i(u)}))})).then((function(e){return e})).catch((function(e){return e}))]:[2,new Promise((function(e,t){t({status:"failure",message:(0,a.errorMessage)("Request List")})}))]}))}))},e.prototype.file=function(e,t,r,n){var o=this;return void 0===e&&(e=""),void 0===r&&(r={}),void 0===n&&(n=!1),{upload:function(){return(0,i.fileupload)(e,t,r,n,o)},update:function(){return(0,i.fileupdate)(e,t,r,n,o)},download:function(){return(0,i.downloadFile)(e,r,n,o)}}},e.prototype.getInstance=function(){return this},e}();t.requestHandler=u,t.reasy=new u},456:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.abortSignal=void 0;var o=r(797);t.abortSignal=function(e,t,r){void 0===e&&(e=-1),void 0===r&&(r=!1);var s=new AbortController;return o.defaults.headers=n(n({},o.defaults.headers),{abort:s}),(o.defaults.abortTime||e>=0)&&setTimeout((function(){s.abort(),r?o.defaults.allAbortControllers.delete(t):o.defaults.abortControllers.delete(t),delete o.defaults.headers.abort}),e),r?o.defaults.allAbortControllers.set(t,s):o.defaults.abortControllers.set(t,s),s}},147:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.erase=t.interceptor=t.register=void 0;var o=r(811),s=r(797);t.register=new function(){this.headers=function(e){return new Promise((function(t,r){!e||Array.isArray(e)?r({status:"failure",message:(0,o.errorMessage)("Headers")}):(s.defaults.headers=n(n({},s.defaults.headers),e),t({status:"success"}))}))},this.domain=function(e){return new Promise((function(t,r){(e=e?(0,o.isValidUrl)(e):null)?(s.defaults.domain=e,t({status:"success"})):r({status:"failure",message:(0,o.errorMessage)("Domain")})}))},this.abortController=function(e){return void 0===e&&(e=0),new Promise((function(t,r){s.defaults.controller=!0,s.defaults.abortTime=e>0&&e,t({status:"success"})}))}};t.interceptor=new function(){this.postRequest=function(e){return new Promise((function(t,r){s.defaults.postRequestHook=e,t({status:"success"})}))},this.preRequest=function(e){return new Promise((function(t,r){s.defaults.preRequestHook=e,t({status:"success"})}))}};t.erase=new function(){this.domain=function(){return new Promise((function(e,t){s.defaults.domain?(s.defaults.domain="",e({status:"success"})):t({status:"failure",message:(0,o.errorMessage)("Default Domain")})}))},this.headers=function(){return new Promise((function(e,t){s.defaults.headers?(s.defaults.headers={},e({status:"success"})):t({status:"failure",message:(0,o.errorMessage)("Default Headers")})}))},this.abortController=function(){return new Promise((function(e,t){s.defaults.controller?(s.defaults.controller=!1,s.defaults.abortTime=!1,e({status:"success"})):t({status:"failure",message:(0,o.errorMessage)("Abort Controller")})}))},this.postRequest=function(){return new Promise((function(e,t){s.defaults.postRequestHook=null,e({status:"success"})}))},this.preRequest=function(){return new Promise((function(e,t){s.defaults.preRequestHook=null,e({status:"success"})}))},this.abortMap=function(){return new Promise((function(e,t){s.defaults.abortControllers.clear(),s.defaults.allAbortControllers.clear(),e({status:"success"})}))}}},811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateContentType=t.checkIfValidJson=t.checkIfValidParams=t.isValidHeaders=t.encodeQP=t.isValidUrl=t.abortControllerNotRegisteredError=t.errorMessage=void 0,t.errorMessage=function(e,t){void 0===t&&(t=!1);var r="Invalid value for the argument ".concat(e,".");return t&&(r+=" TimeOut should be greater than 0."),r},t.abortControllerNotRegisteredError=function(e){return"".concat(e," is not registered. Register it to use this function")},t.isValidUrl=function(e){if(!e)return null;try{return e=e.toString(),/^(https?|ftp|file):\/\/[^\s/$.?#].[^\s]*$/i.test(e)?"/"===e.slice(-1)?e.slice(0,-1):e:null}catch(e){return null}},t.encodeQP=function(e){var t=e.split("?")[1];if(t){var r=t.split("&"),n="";return r&&(r.forEach((function(e){var t=e.split("="),r=t[0],o=t[1];n+="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(o),"&")})),r[1]=n),r.join("?")}return e},t.isValidHeaders=function(e){return"string"!=typeof e&&!Array.isArray(e)},t.checkIfValidParams=function(e,r){var n=(0,t.isValidUrl)(e),o=(0,t.isValidHeaders)(r);return n||o?n?o?"":"headers":"URL":"URL and Headers"},t.checkIfValidJson=function(e){try{return JSON.parse(e)}catch(e){return!1}},t.validateContentType=function(e){return null==e?"":e.includes("text")?"text":e.includes("json")?"json":""}},398:(e,t,r)=>{"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0});try{n=r(522),o=r(509)}catch(e){n=!1,o=!1}t.default={http:n,https:o}},547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reasy=void 0;var n=r(655),o=r(147);t.reasy={request:n.reasy,erase:o.erase,interceptor:o.interceptor,register:o.register}},694:(e,t,r)=>{var n=r(547).reasy;e.exports=n},522:()=>{},509:()=>{}},t={},function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(694);var e,t}));
//# sourceMappingURL=reazi.min.js.map